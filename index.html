<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="theme-color" content="#e74c3c">
  <title>Patricia's Guide to Healing</title>
  <link rel="manifest" href="/manifest.json">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    body {
      background: #fff9f9;
      color: #333;
      padding: 0;
      margin: 0;
      display: flex;
      flex-direction: column;
      height: 100vh;
    }

    header {
      background: linear-gradient(to right, #e74c3c, #f39c12);
      color: white;
      text-align: center;
      padding: 16px;
      font-size: 1.4em;
      font-weight: 600;
    }

    .content {
      flex: 1;
      overflow-y: auto;
      padding: 20px;
    }

    .section {
      display: none;
    }

    .section.active {
      display: block;
    }

    .tab-bar {
      display: flex;
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      background: white;
      border-top: 1px solid #eee;
      box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
    }

    .tab {
      flex: 1;
      text-align: center;
      padding: 12px 4px;
      font-size: 0.85em;
      color: #777;
      cursor: pointer;
    }

    .tab.active-tab {
      color: #e74c3c;
      font-weight: bold;
    }

    button, .btn {
      background: #e74c3c;
      color: white;
      border: none;
      padding: 12px;
      border-radius: 8px;
      font-size: 1em;
      cursor: pointer;
      width: 100%;
      margin: 8px 0;
    }

    input, textarea {
      width: 100%;
      padding: 10px;
      margin: 8px 0;
      border: 1px solid #ddd;
      border-radius: 6px;
      font-size: 1em;
    }

    ol, ul {
      margin: 12px 0 12px 20px;
      line-height: 1.6;
    }

    .log-entry {
      background: #f8f0f0;
      padding: 10px;
      margin: 8px 0;
      border-radius: 6px;
      border-left: 3px solid #e74c3c;
    }

    .daily-title {
      color: #e74c3c;
      margin: 10px 0;
    }
  </style>
</head>
<body>

  <header>Patricia's Guide to Healing</header>

  <div class="content">
    <!-- Bible Section -->
    <div id="bible" class="section active">
      <h2>üìñ Daily Bible Verse</h2>
      <p id="bible-verse" class="daily-title">Loading...</p>
    </div>

    <!-- Prayer Section -->
    <div id="prayer" class="section">
      <h2>üôè Healing Prayer</h2>
      <p style="margin: 16px 0; line-height: 1.6;">
        Loving Father,<br>
        Thank You for being my healer. I ask for Your peace over Patricia‚Äôs body,  
        wisdom for her choices, and strength each day. Guide her steps, guard her health,  
        and fill her heart with hope. In Jesus‚Äô name, Amen.
      </p>
    </div>

    <!-- Herbal Remedies -->
    <div id="remedies" class="section">
      <h2>üåø Today's Herbal Remedy</h2>
      <div id="remedy-content"></div>
    </div>

    <!-- Healthy Recipes -->
    <div id="recipes" class="section">
      <h2>üç≤ Today's Healthy Recipe</h2>
      <div id="recipe-content"></div>
    </div>

    <!-- Blood Sugar Log -->
    <div id="log" class="section">
      <h2>üìù Blood Sugar Log</h2>
      <input type="date" id="log-date" />
      <input type="number" id="log-value" placeholder="Enter blood sugar (mg/dL)" />
      <button onclick="saveLog()">Save Entry</button>
      
      <div id="log-entries" style="margin-top: 20px;">
        <h3>Saved Entries:</h3>
      </div>
    </div>
  </div>

  <!-- Bottom Navigation Tabs -->
  <div class="tab-bar">
    <div class="tab active-tab" onclick="showTab('bible')">üìñ<br>Bible</div>
    <div class="tab" onclick="showTab('prayer')">üôè<br>Prayer</div>
    <div class="tab" onclick="showTab('remedies')">üåø<br>Remedy</div>
    <div class="tab" onclick="showTab('recipes')">üç≤<br>Recipe</div>
    <div class="tab" onclick="showTab('log')">üìù<br>Log</div>
  </div>

  <script>
    // ===== DAILY CONTENT LISTS =====

    // Bible Verses (365 entries ‚Äî you can expand!)
    const bibleVerses = [
      { text: '"He sent his word and healed them; he rescued them from the grave."', ref: "Psalm 107:20" },
      { text: '"The Lord will sustain him on his sickbed and restore him from his bed of illness."', ref: "Psalm 41:3" },
      { text: '"By his wounds you have been healed."', ref: "1 Peter 2:24" },
      { text: '"Do not be anxious about anything, but in every situation... present your requests to God."', ref: "Philippians 4:6" },
      { text: '"The Lord is my strength and my shield; my heart trusts in him, and he helps me."', ref: "Psalm 28:7" },
      { text: '"Cast all your anxiety on him because he cares for you."', ref: "1 Peter 5:7" },
      { text: '"The Lord your God is with you, the Mighty Warrior who saves."', ref: "Zephaniah 3:17" },
      { text: '"I will restore you to health and heal your wounds.", says the Lord."', ref: "Jeremiah 30:17" }
      // Add more as you like! For now, it will cycle.
    ];

    // Herbal Remedies
    const herbalRemedies = [
      {
        title: "Bitter Leaf Tea",
        steps: [
          "Wash 1 cup fresh bitter leaves.",
          "Boil in 2 cups water for 10 mins.",
          "Cool and drink ¬Ω cup morning & evening."
        ],
        note: "Consult your doctor before use."
      },
      {
        title: "Cinnamon Water",
        steps: [
          "Add 1 tsp cinnamon to 1 cup warm water.",
          "Stir well and drink once daily.",
          "May help support healthy blood sugar."
        ],
        note: "Avoid if on blood thinners."
      },
      {
        title: "Fenugreek Soak",
        steps: [
          "Soak 1 tbsp fenugreek seeds overnight.",
          "Drink the water and chew seeds in the morning.",
          "Do this 3‚Äì4 times/week."
        ],
        note: "May lower blood sugar ‚Äî monitor closely."
      }
    ];

    // Diabetic-Friendly Recipes
    const recipes = [
      {
        title: "Cinnamon Oatmeal (Low-Sugar)",
        steps: [
          "Cook ¬Ω cup oats with water or unsweetened almond milk.",
          "Add ¬Ω tsp cinnamon, 2 tbsp berries, and 1 tbsp chia seeds.",
          "No sugar needed!"
        ]
      },
      {
        title: "Bitter Leaf & Fish Soup",
        steps: [
          "Boil fish with onions, pepper, and scent leaves.",
          "Add washed bitter leaves 5 mins before done.",
          "Serve with small portion of eba or swallow."
        ]
      },
      {
        title: "Vegetable Stir-Fry",
        steps: [
          "Saut√© onions, tomatoes, spinach, and ugu in olive oil.",
          "Add boiled egg or grilled chicken.",
          "Season lightly ‚Äî no sugar or processed sauces."
        ]
      }
    ];

    // ===== HELPER: Get Day of Year (1‚Äì366) =====
    function getDayOfYear() {
      const now = new Date();
      const start = new Date(now.getFullYear(), 0, 0);
      const diff = now - start;
      const oneDay = 1000 * 60 * 60 * 24;
      return Math.floor(diff / oneDay);
    }

    // ===== SHOW DAILY CONTENT =====
    function updateDailyContent() {
      const day = getDayOfYear();

      // Bible: cycle through list
      const bibleIndex = (day - 1) % bibleVerses.length;
      document.getElementById('bible-verse').innerHTML = 
        `<i>"${bibleVerses[bibleIndex].text}"</i><br>‚Äî <b>${bibleVerses[bibleIndex].ref}</b>`;

      // Remedy: cycle through list
      const remedyIndex = (day - 1) % herbalRemedies.length;
      const remedy = herbalRemedies[remedyIndex];
      document.getElementById('remedy-content').innerHTML = `
        <h3>${remedy.title}</h3>
        <ol><li>${remedy.steps.join('</li><li>')}</li></ol>
        <p style="font-size: 0.9em; color: #888; margin-top: 10px;">‚ö†Ô∏è ${remedy.note}</p>
      `;

      // Recipe: cycle through list
      const recipeIndex = (day - 1) % recipes.length;
      const recipe = recipes[recipeIndex];
      document.getElementById('recipe-content').innerHTML = `
        <h3>${recipe.title}</h3>
        <ol><li>${recipe.steps.join('</li><li>')}</li></ol>
      `;
    }

    // ===== TAB NAVIGATION =====
    function showTab(sectionId) {
      document.querySelectorAll('.section').forEach(sec => sec.classList.remove('active'));
      document.getElementById(sectionId).classList.add('active');
      
      document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active-tab'));
      event.target.classList.add('active-tab');
      
      if (sectionId === 'log') loadLog();
    }

    // ===== BLOOD SUGAR LOG =====
    function saveLog() {
      const date = document.getElementById('log-date').value || new Date().toISOString().split('T')[0];
      const value = document.getElementById('log-value').value;
      if (!value) { alert('Please enter a value.'); return; }

      const logs = JSON.parse(localStorage.getItem('bloodSugarLogs') || '[]');
      logs.push({ date, value });
      localStorage.setItem('bloodSugarLogs', JSON.stringify(logs));
      document.getElementById('log-value').value = '';
      loadLog();
    }

    function loadLog() {
      const logs = JSON.parse(localStorage.getItem('bloodSugarLogs') || '[]');
      const container = document.getElementById('log-entries');
      container.innerHTML = '<h3>Saved Entries:</h3>';
      
      if (logs.length === 0) {
        container.innerHTML += '<p>No entries yet.</p>';
        return;
      }

      logs.reverse().forEach(entry => {
        const div = document.createElement('div');
        div.className = 'log-entry';
        div.innerHTML = `<b>${entry.date}</b>: ${entry.value} mg/dL`;
        container.appendChild(div);
      });
    }

    // ===== INIT =====
    window.onload = () => {
      updateDailyContent(); // Set today's content
    };
  </script>
</body>
</html>